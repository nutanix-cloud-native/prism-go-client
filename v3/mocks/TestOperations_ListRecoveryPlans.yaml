version: api.keploy.io/v1beta2
kind: Http
name: TestOperations_ListRecoveryPlans
spec:
    metadata:
        name: Http
        operation: POST
        type: HTTP_CLIENT
    req:
        method: POST
        proto_major: 1
        proto_minor: 1
        url: https://prism-test.nutanix.com:9440/api/nutanix/v3/recovery_plans/list
        header:
            Accept: application/json
            Content-Type: application/json
            User-Agent: nutanix/v3
        body: |
            {"length":10}
        body_type: utf-8
    resp:
        status_code: 200
        header:
            Content-Security-Policy: 'default-src ''self'' https://*.nutanix.com; script-src ''self'' ''unsafe-inline'' ''unsafe-eval''; style-src ''self'' ''unsafe-inline''; connect-src ''self'' wss: https://downloads.frame.nutanix.com https://downloads.frame.nutanix.us; img-src ''self'' blob: data:; frame-src ''self'' https://*.nutanix.com blob: data:'
            Content-Type: application/json
            Date: Wed, 28 Aug 2024 08:03:29 GMT
            Server: envoy
            Strict-Transport-Security: max-age=8640000:includeSubdomains
            Vary: Accept-Encoding
            X-Content-Type-Options: nosniff
            X-Dns-Prefetch-Control: "off"
            X-Envoy-Upstream-Service-Time: "1878"
            X-Frame-Options: SAMEORIGIN
            X-Ntnx-Env: pc
            X-Ntnx-Product: pc.2024.1
            X-Permitted-Cross-Domain-Policies: master-only
            X-Xss-Protection: 1; mode=block
        body: '{"api_version": "3.1", "metadata": {"kind": "recovery_plan", "length": 7, "offset": 0, "total_matches": 7}, "entities": [{"status": {"name": "aman_rp_2", "description": "string", "resources": {"parameters": {"network_mapping_list": [], "availability_zone_list": [{"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"name": "", "uuid": "0006200e-fe43-236a-0000-00000000601e", "kind": "cluster"}]}, {"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"name": "", "uuid": "0006200e-f1f5-ef7f-0000-00000000601d", "kind": "cluster"}]}], "primary_location_index": 0}, "stage_list": [], "volume_group_recovery_info_list": [{"volume_group_config_info_list": [], "category_filter": {"type": "CATEGORIES_MATCH_ANY", "params": {"K8s-NDK-Sync-Replication": ["tag-1"]}}}]}, "state": "COMPLETE", "execution_context": {"task_uuid": ["5bde3264-9490-4d32-9a17-4e4ce1fd3f52"]}}, "metadata": {"uuid": "48a6bed1-b0b1-4bfc-be9c-a026f11f2307", "spec_hash": "00000000000000000000000000000000000000000000000000", "spec_version": 0, "owner_reference": {"kind": "user", "uuid": "00000000-0000-0000-0000-000000000000", "name": "admin"}, "categories": {}, "categories_mapping": {}, "creation_time": "2024-08-26T08:07:22Z", "last_update_time": "2024-08-26T08:07:25Z", "kind": "recovery_plan"}, "spec": {"description": "string", "name": "aman_rp_2", "resources": {"parameters": {"availability_zone_list": [{"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"kind": "cluster", "uuid": "0006200e-fe43-236a-0000-00000000601e"}]}, {"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"kind": "cluster", "uuid": "0006200e-f1f5-ef7f-0000-00000000601d"}]}], "primary_location_index": 0, "witness_configuration_list": []}, "volume_group_recovery_info_list": [{"category_filter": {"params": {"K8s-NDK-Sync-Replication": ["tag-1"]}, "type": "CATEGORIES_MATCH_ANY"}}]}}}, {"status": {"name": "d913d7b7-dce5-3818-a128-fa37cf82a4f1", "description": "Sync protection for app", "resources": {"parameters": {"network_mapping_list": [], "availability_zone_list": [{"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"name": "", "uuid": "0006200e-fe43-236a-0000-00000000601e", "kind": "cluster"}]}, {"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"name": "", "uuid": "0006200e-f1f5-ef7f-0000-00000000601d", "kind": "cluster"}]}], "primary_location_index": 0}, "stage_list": [], "volume_group_recovery_info_list": [{"volume_group_config_info_list": [], "category_filter": {"type": "CATEGORIES_MATCH_ANY", "params": {"K8s-NDK-Sync-Replication": ["tag-1"]}}}]}, "state": "COMPLETE", "execution_context": {"task_uuid": ["66d64378-9a60-4dcf-b44b-32f60cf7aa42"]}}, "metadata": {"uuid": "b47ed38c-8a48-48c0-ad32-ba9e85d77d3c", "spec_hash": "00000000000000000000000000000000000000000000000000", "spec_version": 0, "owner_reference": {"kind": "user", "uuid": "00000000-0000-0000-0000-000000000000", "name": "admin"}, "categories": {}, "categories_mapping": {}, "creation_time": "2024-08-26T08:10:01Z", "last_update_time": "2024-08-26T08:10:05Z", "kind": "recovery_plan"}, "spec": {"description": "Sync protection for app", "name": "d913d7b7-dce5-3818-a128-fa37cf82a4f1", "resources": {"parameters": {"availability_zone_list": [{"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"kind": "cluster", "uuid": "0006200e-fe43-236a-0000-00000000601e"}]}, {"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"kind": "cluster", "uuid": "0006200e-f1f5-ef7f-0000-00000000601d"}]}], "primary_location_index": 0}, "volume_group_recovery_info_list": [{"category_filter": {"params": {"K8s-NDK-Sync-Replication": ["tag-1"]}, "type": "CATEGORIES_MATCH_ANY"}}]}}}, {"status": {"name": "3c05a16d-80bd-3b04-8b93-a7053fea3297", "description": "Sync protection for app", "resources": {"parameters": {"network_mapping_list": [], "availability_zone_list": [{"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"name": "", "uuid": "0006200e-fe43-236a-0000-00000000601e", "kind": "cluster"}]}, {"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"name": "", "uuid": "0006200e-f1f5-ef7f-0000-00000000601d", "kind": "cluster"}]}], "primary_location_index": 0}, "stage_list": [], "volume_group_recovery_info_list": [{"volume_group_config_info_list": [], "category_filter": {"type": "CATEGORIES_MATCH_ANY", "params": {"K8s-NDK-Sync-Replication": ["tag-1"]}}}]}, "state": "COMPLETE", "execution_context": {"task_uuid": ["3d38cf95-acf6-40ed-9ae4-e6de1add9789"]}}, "metadata": {"uuid": "fd585f9d-5699-4f9a-b566-c7d96fd00535", "spec_hash": "00000000000000000000000000000000000000000000000000", "spec_version": 0, "owner_reference": {"kind": "user", "uuid": "00000000-0000-0000-0000-000000000000", "name": "admin"}, "categories": {}, "categories_mapping": {}, "creation_time": "2024-08-26T08:12:50Z", "last_update_time": "2024-08-26T08:12:54Z", "kind": "recovery_plan"}, "spec": {"description": "Sync protection for app", "name": "3c05a16d-80bd-3b04-8b93-a7053fea3297", "resources": {"parameters": {"availability_zone_list": [{"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"kind": "cluster", "uuid": "0006200e-fe43-236a-0000-00000000601e"}]}, {"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"kind": "cluster", "uuid": "0006200e-f1f5-ef7f-0000-00000000601d"}]}], "primary_location_index": 0}, "volume_group_recovery_info_list": [{"category_filter": {"params": {"K8s-NDK-Sync-Replication": ["tag-1"]}, "type": "CATEGORIES_MATCH_ANY"}}]}}}, {"status": {"name": "aman_rp_3", "description": "string", "resources": {"parameters": {"network_mapping_list": [], "availability_zone_list": [{"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"name": "", "uuid": "0006200e-fe43-236a-0000-00000000601e", "kind": "cluster"}]}, {"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"name": "", "uuid": "0006200e-f1f5-ef7f-0000-00000000601d", "kind": "cluster"}]}], "primary_location_index": 0}, "stage_list": [], "volume_group_recovery_info_list": [{"volume_group_config_info_list": [], "category_filter": {"type": "CATEGORIES_MATCH_ANY", "params": {"K8s-NDK-Sync-Replication": ["tag-1"]}}}]}, "state": "COMPLETE", "execution_context": {"task_uuid": ["d6ae5d81-5d5b-4d8d-912d-2be125e092b7"]}}, "metadata": {"uuid": "4c6d97b3-c175-48ca-bd95-1dd55e9aecca", "spec_hash": "00000000000000000000000000000000000000000000000000", "spec_version": 0, "owner_reference": {"kind": "user", "uuid": "00000000-0000-0000-0000-000000000000", "name": "admin"}, "categories": {}, "categories_mapping": {}, "creation_time": "2024-08-26T08:57:26Z", "last_update_time": "2024-08-26T08:57:29Z", "kind": "recovery_plan"}, "spec": {"description": "string", "name": "aman_rp_3", "resources": {"parameters": {"availability_zone_list": [{"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"kind": "cluster", "uuid": "0006200e-fe43-236a-0000-00000000601e"}]}, {"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"kind": "cluster", "uuid": "0006200e-f1f5-ef7f-0000-00000000601d"}]}], "primary_location_index": 0, "witness_configuration_list": []}, "volume_group_recovery_info_list": [{"category_filter": {"params": {"K8s-NDK-Sync-Replication": ["tag-1"]}, "type": "CATEGORIES_MATCH_ANY"}}]}}}, {"status": {"name": "aman_rp_4", "description": "string", "resources": {"parameters": {"network_mapping_list": [], "availability_zone_list": [{"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"name": "", "uuid": "0006200e-fe43-236a-0000-00000000601e", "kind": "cluster"}]}, {"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"name": "", "uuid": "0006200e-f1f5-ef7f-0000-00000000601d", "kind": "cluster"}]}], "primary_location_index": 0, "witness_configuration_list": [{"witness_address": "4b194a2d-5468-4e92-8953-571cb39be910", "witness_failover_timeout_secs": 1}]}, "stage_list": [], "volume_group_recovery_info_list": [{"volume_group_config_info_list": [], "category_filter": {"type": "CATEGORIES_MATCH_ANY", "params": {"K8s-NDK-Sync-Replication": ["tag-1"]}}}]}, "state": "COMPLETE", "execution_context": {"task_uuid": ["c30e3953-cdd1-4d17-8509-78928a84c022"]}}, "metadata": {"uuid": "18d5ab0d-44da-4288-a4be-78ec23cd59b5", "spec_hash": "00000000000000000000000000000000000000000000000000", "spec_version": 0, "owner_reference": {"kind": "user", "uuid": "00000000-0000-0000-0000-000000000000", "name": "admin"}, "categories": {}, "categories_mapping": {}, "creation_time": "2024-08-26T08:58:17Z", "last_update_time": "2024-08-26T08:58:20Z", "kind": "recovery_plan"}, "spec": {"description": "string", "name": "aman_rp_4", "resources": {"parameters": {"availability_zone_list": [{"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"kind": "cluster", "uuid": "0006200e-fe43-236a-0000-00000000601e"}]}, {"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"kind": "cluster", "uuid": "0006200e-f1f5-ef7f-0000-00000000601d"}]}], "primary_location_index": 0, "witness_configuration_list": [{"witness_address": "4b194a2d-5468-4e92-8953-571cb39be910", "witness_failover_timeout_secs": 1}]}, "volume_group_recovery_info_list": [{"category_filter": {"params": {"K8s-NDK-Sync-Replication": ["tag-1"]}, "type": "CATEGORIES_MATCH_ANY"}}]}}}, {"status": {"name": "syncrep-rp", "description": "", "resources": {"parameters": {"network_mapping_list": [], "availability_zone_list": [{"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"name": "auto_cluster_prod_nikhil_loya_36ced338bbe4", "uuid": "0006200e-fe43-236a-0000-00000000601e", "kind": "cluster"}]}, {"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"name": "auto_cluster_prod_nikhil_loya_36ced338bbe5", "uuid": "0006200e-f1f5-ef7f-0000-00000000601d", "kind": "cluster"}]}], "primary_location_index": 0, "witness_configuration_list": [{"witness_address": "4b194a2d-5468-4e92-8953-571cb39be910", "witness_failover_timeout_secs": 30}]}, "stage_list": [], "volume_group_recovery_info_list": [{"volume_group_config_info_list": [], "category_filter": {"type": "CATEGORIES_MATCH_ANY", "params": {"AppType": ["Kubernetes"]}}}]}, "state": "COMPLETE", "execution_context": {"task_uuid": ["7b95a804-5fb0-4cd8-9f32-9a0353fd9e9c"]}}, "metadata": {"uuid": "f1b17870-396f-40c5-ae7d-11a9c27e28c7", "spec_hash": "00000000000000000000000000000000000000000000000000", "spec_version": 0, "owner_reference": {"kind": "user", "uuid": "00000000-0000-0000-0000-000000000000", "name": "admin"}, "categories": {}, "categories_mapping": {}, "creation_time": "2024-08-27T15:48:07Z", "last_update_time": "2024-08-27T15:48:09Z", "kind": "recovery_plan"}, "spec": {"description": "", "name": "syncrep-rp", "resources": {"parameters": {"availability_zone_list": [{"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"kind": "cluster", "name": "auto_cluster_prod_nikhil_loya_36ced338bbe4", "uuid": "0006200e-fe43-236a-0000-00000000601e"}]}, {"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"kind": "cluster", "name": "auto_cluster_prod_nikhil_loya_36ced338bbe5", "uuid": "0006200e-f1f5-ef7f-0000-00000000601d"}]}], "data_service_ip_mapping_list": [], "network_mapping_list": [], "primary_location_index": 0, "witness_configuration_list": [{"witness_address": "4b194a2d-5468-4e92-8953-571cb39be910", "witness_failover_timeout_secs": 30}]}, "stage_list": [], "volume_group_recovery_info_list": [{"category_filter": {"params": {"AppType": ["Kubernetes"]}, "type": "CATEGORIES_MATCH_ANY"}, "volume_group_config_info_list": []}]}}}, {"status": {"name": "recovery_plan_test_name-4", "description": null, "resources": {"parameters": {"network_mapping_list": [], "availability_zone_list": [{"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"name": "", "uuid": "0006200e-fe43-236a-0000-00000000601e", "kind": "cluster"}]}, {"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"name": "", "uuid": "0006200e-f1f5-ef7f-0000-00000000601d", "kind": "cluster"}]}], "primary_location_index": 0, "witness_configuration_list": [{"witness_address": "4b194a2d-5468-4e92-8953-571cb39be910", "witness_failover_timeout_secs": 1}]}, "stage_list": [], "volume_group_recovery_info_list": [{"volume_group_config_info_list": [], "category_filter": {"type": "CATEGORIES_MATCH_ANY", "params": {"test-category": ["test-key"]}}}]}, "state": "COMPLETE", "execution_context": {"task_uuid": ["0fd3ad6f-7243-4e7d-967d-bfdfaf918f5b"]}}, "metadata": {"uuid": "b2fe0a67-3be2-407c-8e83-9b5d6af14cec", "spec_hash": "00000000000000000000000000000000000000000000000000", "spec_version": 0, "owner_reference": {"kind": "user", "uuid": "00000000-0000-0000-0000-000000000000", "name": "admin"}, "categories": {}, "categories_mapping": {}, "creation_time": "2024-08-28T07:25:43Z", "last_update_time": "2024-08-28T07:25:46Z", "kind": "recovery_plan"}, "spec": {"name": "recovery_plan_test_name-4", "resources": {"parameters": {"availability_zone_list": [{"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"kind": "cluster", "uuid": "0006200e-fe43-236a-0000-00000000601e"}]}, {"availability_zone_url": "4b194a2d-5468-4e92-8953-571cb39be910", "cluster_reference_list": [{"kind": "cluster", "uuid": "0006200e-f1f5-ef7f-0000-00000000601d"}]}], "data_service_ip_mapping_list": [], "floating_ip_assignment_list": [], "network_mapping_list": [], "primary_location_index": 0, "witness_configuration_list": [{"witness_address": "4b194a2d-5468-4e92-8953-571cb39be910", "witness_failover_timeout_secs": 1}]}, "stage_list": [], "volume_group_recovery_info_list": [{"category_filter": {"kind_list": [], "params": {"test-category": ["test-key"]}, "type": "CATEGORIES_MATCH_ANY"}, "volume_group_config_info_list": []}]}}}]}'
        body_type: utf-8
        status_message: ""
        proto_major: 0
        proto_minor: 0
    objects:
        - type: error
          data: H4sIAAAAAAAA/wEAAP//AAAAAAAAAAA=
