version: api.keploy.io/v1beta2
kind: Http
name: TestKarbonCreateClusterRegistrationAndSetInfo
spec:
    metadata:
        Body: ""
        Header: map[Accept:[application/json] Content-Type:[application/json] User-Agent:[nutanix]]
        Proto: HTTP/1.1
        ProtoMajor: "1"
        ProtoMinor: "1"
        URL: https://10.45.30.138:9440/karbon/v1-alpha.1/k8s/cluster-registrations/634f5852-ce1b-465c-a95a-9b8dffbdde42
        name: http-client
        operation: GET
        type: HTTP_CLIENT
    req:
        method: GET
        proto_major: 1
        proto_minor: 1
        url: https://10.45.30.138:9440/karbon/v1-alpha.1/k8s/cluster-registrations/634f5852-ce1b-465c-a95a-9b8dffbdde42
        header:
            Accept: application/json
            Content-Type: application/json
            User-Agent: nutanix
        body: ""
        body_type: utf-8
    resp:
        status_code: 200
        header:
            Content-Security-Policy: "default-src 'self' *.nutanix.com nutanix.com; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src 'self' wss: https://downloads.frame.nutanix.com https://downloads.frame.nutanix.us; img-src 'self' blob: data:; frame-src 'self' https://*.nutanix.com blob: data:"
            Content-Type: application/json
            Date: Sat, 21 Jan 2023 19:56:35 GMT
            Server: envoy
            Set-Cookie: Expires=Sat, 21-Jan-2023 20:11:34 GMT;Path=/;Secure;HttpOnly;SameSite=Lax
            Strict-Transport-Security: max-age=8640000:includeSubdomains
            Vary: Accept-Encoding
            X-Content-Type-Options: nosniff
            X-Dns-Prefetch-Control: "off"
            X-Envoy-Upstream-Service-Time: "1945"
            X-Frame-Options: SAMEORIGIN
            X-Ntnx-Env: pc
            X-Ntnx-Product: pc.2021.9.0.4
            X-Permitted-Cross-Domain-Policies: master-only
            X-Powered-By: Express
            X-Webkit-Csp: "default-src 'self' *.nutanix.com nutanix.com; script-src 'self' 'unsafe-inline' 'unsafe-eval';  style-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src 'self' wss: https://downloads.frame.nutanix.com https://downloads.frame.nutanix.us; img-src 'self' blob: data:; frame-src 'self' https://*.nutanix.com blob: data:"
            X-Xss-Protection: 1; mode=block
        body: |
            {"addons_info":[{"addon_name":"CSI","addon_version":"v3.x"},{"addon_name":"CSI","addon_version":"v3.x"}],"categories_mapping":{"KubernetesClusterName":"cluster1","KubernetesClusterUUID":"634f5852-ce1b-465c-a95a-9b8dffbdde42","kubernetes-io-cluster-cluster1":"owned"},"cluster_info":{"k8s_distribution":"","k8s_version":""},"name":"cluster1","status":"kActive","uuid":"634f5852-ce1b-465c-a95a-9b8dffbdde42"}
        body_type: utf-8
        status_message: ""
        proto_major: 0
        proto_minor: 0
    objects:
        - type: error
          data: H4sIAAAAAAAA/wEAAP//AAAAAAAAAAA=
---
version: api.keploy.io/v1beta2
kind: Http
name: TestKarbonCreateClusterRegistrationAndSetInfo
spec:
    metadata:
        Body: ""
        Header: map[Accept:[application/json] Content-Type:[application/json] User-Agent:[nutanix]]
        Proto: HTTP/1.1
        ProtoMajor: "1"
        ProtoMinor: "1"
        URL: https://10.45.30.138:9440/karbon/v1-alpha.1/k8s/cluster-registrations/634f5852-ce1b-465c-a95a-9b8dffbdde42
        name: http-client
        operation: DELETE
        type: HTTP_CLIENT
    req:
        method: DELETE
        proto_major: 1
        proto_minor: 1
        url: https://10.45.30.138:9440/karbon/v1-alpha.1/k8s/cluster-registrations/634f5852-ce1b-465c-a95a-9b8dffbdde42
        header:
            Accept: application/json
            Content-Type: application/json
            User-Agent: nutanix
        body: ""
        body_type: utf-8
    resp:
        status_code: 202
        header:
            Content-Security-Policy: "default-src 'self' *.nutanix.com nutanix.com; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src 'self' wss: https://downloads.frame.nutanix.com https://downloads.frame.nutanix.us; img-src 'self' blob: data:; frame-src 'self' https://*.nutanix.com blob: data:"
            Content-Type: application/json
            Date: Sat, 21 Jan 2023 19:56:36 GMT
            Server: envoy
            Set-Cookie: Expires=Sat, 21-Jan-2023 20:11:36 GMT;Path=/;Secure;HttpOnly;SameSite=Lax
            Strict-Transport-Security: max-age=8640000:includeSubdomains
            Vary: Accept-Encoding
            X-Content-Type-Options: nosniff
            X-Dns-Prefetch-Control: "off"
            X-Envoy-Upstream-Service-Time: "462"
            X-Frame-Options: SAMEORIGIN
            X-Ntnx-Env: pc
            X-Ntnx-Product: pc.2021.9.0.4
            X-Permitted-Cross-Domain-Policies: master-only
            X-Powered-By: Express
            X-Webkit-Csp: "default-src 'self' *.nutanix.com nutanix.com; script-src 'self' 'unsafe-inline' 'unsafe-eval';  style-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src 'self' wss: https://downloads.frame.nutanix.com https://downloads.frame.nutanix.us; img-src 'self' blob: data:; frame-src 'self' https://*.nutanix.com blob: data:"
            X-Xss-Protection: 1; mode=block
        body: |
            {"cluster_name":"cluster1","cluster_uuid":"634f5852-ce1b-465c-a95a-9b8dffbdde42","task_uuid":"93ee3373-230a-4a9e-4542-14bac4a20167"}
        body_type: utf-8
        status_message: ""
        proto_major: 0
        proto_minor: 0
    objects:
        - type: error
          data: H4sIAAAAAAAA/wEAAP//AAAAAAAAAAA=
---
version: api.keploy.io/v1beta2
kind: Http
name: TestKarbonCreateClusterRegistrationAndSetInfo
spec:
    metadata:
        Body: |
            {"categories_mapping":{"KubernetesClusterName":"cluster1","KubernetesClusterUUID":"634f5852-ce1b-465c-a95a-9b8dffbdde42","kubernetes-io-cluster-cluster1":"owned"},"metadata":{"api_version":"v1.1.0"},"name":"cluster1","uuid":"634f5852-ce1b-465c-a95a-9b8dffbdde42"}
        Header: map[Accept:[application/json] Content-Type:[application/json] User-Agent:[nutanix]]
        Proto: HTTP/1.1
        ProtoMajor: "1"
        ProtoMinor: "1"
        URL: https://10.45.30.138:9440/karbon/v1-alpha.1/k8s/cluster-registrations/
        name: http-client
        operation: POST
        type: HTTP_CLIENT
    req:
        method: POST
        proto_major: 1
        proto_minor: 1
        url: https://10.45.30.138:9440/karbon/v1-alpha.1/k8s/cluster-registrations/
        header:
            Accept: application/json
            Content-Type: application/json
            User-Agent: nutanix
        body: |
            {"categories_mapping":{"KubernetesClusterName":"cluster1","KubernetesClusterUUID":"634f5852-ce1b-465c-a95a-9b8dffbdde42","kubernetes-io-cluster-cluster1":"owned"},"metadata":{"api_version":"v1.1.0"},"name":"cluster1","uuid":"634f5852-ce1b-465c-a95a-9b8dffbdde42"}
        body_type: utf-8
    resp:
        status_code: 202
        header:
            Content-Security-Policy: "default-src 'self' *.nutanix.com nutanix.com; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src 'self' wss: https://downloads.frame.nutanix.com https://downloads.frame.nutanix.us; img-src 'self' blob: data:; frame-src 'self' https://*.nutanix.com blob: data:"
            Content-Type: application/json
            Date: Sat, 21 Jan 2023 19:56:36 GMT
            Server: envoy
            Set-Cookie: Expires=Sat, 21-Jan-2023 20:11:36 GMT;Path=/;Secure;HttpOnly;SameSite=Lax
            Strict-Transport-Security: max-age=8640000:includeSubdomains
            Vary: Accept-Encoding
            X-Content-Type-Options: nosniff
            X-Dns-Prefetch-Control: "off"
            X-Envoy-Upstream-Service-Time: "335"
            X-Frame-Options: SAMEORIGIN
            X-Ntnx-Env: pc
            X-Ntnx-Product: pc.2021.9.0.4
            X-Permitted-Cross-Domain-Policies: master-only
            X-Powered-By: Express
            X-Webkit-Csp: "default-src 'self' *.nutanix.com nutanix.com; script-src 'self' 'unsafe-inline' 'unsafe-eval';  style-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src 'self' wss: https://downloads.frame.nutanix.com https://downloads.frame.nutanix.us; img-src 'self' blob: data:; frame-src 'self' https://*.nutanix.com blob: data:"
            X-Xss-Protection: 1; mode=block
        body: |
            {"cluster_name":"cluster1","cluster_uuid":"634f5852-ce1b-465c-a95a-9b8dffbdde42","task_uuid":"145c7c97-0ddc-444a-6bb9-8dfd8b549f5e"}
        body_type: utf-8
        status_message: ""
        proto_major: 0
        proto_minor: 0
    objects:
        - type: error
          data: H4sIAAAAAAAA/wEAAP//AAAAAAAAAAA=
---
version: api.keploy.io/v1beta2
kind: Http
name: TestKarbonCreateClusterRegistrationAndSetInfo
spec:
    metadata:
        Body: |
            {"cluster_info":{"k8s_distribution":"CAPX","k8s_version":"v1.25.0"}}
        Header: map[Accept:[application/json] Content-Type:[application/json] User-Agent:[nutanix]]
        Proto: HTTP/1.1
        ProtoMajor: "1"
        ProtoMinor: "1"
        URL: https://10.45.30.138:9440/karbon/v1-alpha.1/k8s/cluster-registrations/634f5852-ce1b-465c-a95a-9b8dffbdde42/setinfo
        name: http-client
        operation: POST
        type: HTTP_CLIENT
    req:
        method: POST
        proto_major: 1
        proto_minor: 1
        url: https://10.45.30.138:9440/karbon/v1-alpha.1/k8s/cluster-registrations/634f5852-ce1b-465c-a95a-9b8dffbdde42/setinfo
        header:
            Accept: application/json
            Content-Type: application/json
            User-Agent: nutanix
        body: |
            {"cluster_info":{"k8s_distribution":"CAPX","k8s_version":"v1.25.0"}}
        body_type: utf-8
    resp:
        status_code: 200
        header:
            Content-Security-Policy: "default-src 'self' *.nutanix.com nutanix.com; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src 'self' wss: https://downloads.frame.nutanix.com https://downloads.frame.nutanix.us; img-src 'self' blob: data:; frame-src 'self' https://*.nutanix.com blob: data:"
            Content-Type: application/json
            Date: Sat, 21 Jan 2023 19:56:41 GMT
            Server: envoy
            Set-Cookie: Expires=Sat, 21-Jan-2023 20:11:37 GMT;Path=/;Secure;HttpOnly;SameSite=Lax
            Strict-Transport-Security: max-age=8640000:includeSubdomains
            Vary: Accept-Encoding
            X-Content-Type-Options: nosniff
            X-Dns-Prefetch-Control: "off"
            X-Envoy-Upstream-Service-Time: "4543"
            X-Frame-Options: SAMEORIGIN
            X-Ntnx-Env: pc
            X-Ntnx-Product: pc.2021.9.0.4
            X-Permitted-Cross-Domain-Policies: master-only
            X-Powered-By: Express
            X-Webkit-Csp: "default-src 'self' *.nutanix.com nutanix.com; script-src 'self' 'unsafe-inline' 'unsafe-eval';  style-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src 'self' wss: https://downloads.frame.nutanix.com https://downloads.frame.nutanix.us; img-src 'self' blob: data:; frame-src 'self' https://*.nutanix.com blob: data:"
            X-Xss-Protection: 1; mode=block
        body: |
            {"cluster_name":"cluster1","cluster_uuid":"634f5852-ce1b-465c-a95a-9b8dffbdde42"}
        body_type: utf-8
        status_message: ""
        proto_major: 0
        proto_minor: 0
    objects:
        - type: error
          data: H4sIAAAAAAAA/wEAAP//AAAAAAAAAAA=
---
version: api.keploy.io/v1beta2
kind: Http
name: TestKarbonCreateClusterRegistrationAndSetInfo
spec:
    metadata:
        Body: ""
        Header: map[Accept:[application/json] Content-Type:[application/json] User-Agent:[nutanix]]
        Proto: HTTP/1.1
        ProtoMajor: "1"
        ProtoMinor: "1"
        URL: https://10.45.30.138:9440/karbon/v1-alpha.1/k8s/cluster-registrations/634f5852-ce1b-465c-a95a-9b8dffbdde42
        name: http-client
        operation: GET
        type: HTTP_CLIENT
    req:
        method: GET
        proto_major: 1
        proto_minor: 1
        url: https://10.45.30.138:9440/karbon/v1-alpha.1/k8s/cluster-registrations/634f5852-ce1b-465c-a95a-9b8dffbdde42
        header:
            Accept: application/json
            Content-Type: application/json
            User-Agent: nutanix
        body: ""
        body_type: utf-8
    resp:
        status_code: 200
        header:
            Content-Security-Policy: "default-src 'self' *.nutanix.com nutanix.com; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src 'self' wss: https://downloads.frame.nutanix.com https://downloads.frame.nutanix.us; img-src 'self' blob: data:; frame-src 'self' https://*.nutanix.com blob: data:"
            Content-Type: application/json
            Date: Sat, 21 Jan 2023 19:56:43 GMT
            Server: envoy
            Set-Cookie: Expires=Sat, 21-Jan-2023 20:11:41 GMT;Path=/;Secure;HttpOnly;SameSite=Lax
            Strict-Transport-Security: max-age=8640000:includeSubdomains
            Vary: Accept-Encoding
            X-Content-Type-Options: nosniff
            X-Dns-Prefetch-Control: "off"
            X-Envoy-Upstream-Service-Time: "1769"
            X-Frame-Options: SAMEORIGIN
            X-Ntnx-Env: pc
            X-Ntnx-Product: pc.2021.9.0.4
            X-Permitted-Cross-Domain-Policies: master-only
            X-Powered-By: Express
            X-Webkit-Csp: "default-src 'self' *.nutanix.com nutanix.com; script-src 'self' 'unsafe-inline' 'unsafe-eval';  style-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src 'self' wss: https://downloads.frame.nutanix.com https://downloads.frame.nutanix.us; img-src 'self' blob: data:; frame-src 'self' https://*.nutanix.com blob: data:"
            X-Xss-Protection: 1; mode=block
        body: |
            {"addons_info":[],"categories_mapping":{"KubernetesClusterName":"cluster1","KubernetesClusterUUID":"634f5852-ce1b-465c-a95a-9b8dffbdde42","kubernetes-io-cluster-cluster1":"owned"},"cluster_info":{"k8s_distribution":"CAPX","k8s_version":"v1.25.0"},"name":"cluster1","status":"kActive","uuid":"634f5852-ce1b-465c-a95a-9b8dffbdde42"}
        body_type: utf-8
        status_message: ""
        proto_major: 0
        proto_minor: 0
    objects:
        - type: error
          data: H4sIAAAAAAAA/wEAAP//AAAAAAAAAAA=
---
version: api.keploy.io/v1beta2
kind: Http
name: TestKarbonCreateClusterRegistrationAndSetInfo
spec:
    metadata:
        Body: ""
        Header: map[Accept:[application/json] Content-Type:[application/json] User-Agent:[nutanix]]
        Proto: HTTP/1.1
        ProtoMajor: "1"
        ProtoMinor: "1"
        URL: https://10.45.30.138:9440/karbon/v1-alpha.1/k8s/cluster-registrations/634f5852-ce1b-465c-a95a-9b8dffbdde42
        name: http-client
        operation: DELETE
        type: HTTP_CLIENT
    req:
        method: DELETE
        proto_major: 1
        proto_minor: 1
        url: https://10.45.30.138:9440/karbon/v1-alpha.1/k8s/cluster-registrations/634f5852-ce1b-465c-a95a-9b8dffbdde42
        header:
            Accept: application/json
            Content-Type: application/json
            User-Agent: nutanix
        body: ""
        body_type: utf-8
    resp:
        status_code: 202
        header:
            Content-Security-Policy: "default-src 'self' *.nutanix.com nutanix.com; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src 'self' wss: https://downloads.frame.nutanix.com https://downloads.frame.nutanix.us; img-src 'self' blob: data:; frame-src 'self' https://*.nutanix.com blob: data:"
            Content-Type: application/json
            Date: Sat, 21 Jan 2023 19:56:43 GMT
            Server: envoy
            Set-Cookie: Expires=Sat, 21-Jan-2023 20:11:43 GMT;Path=/;Secure;HttpOnly;SameSite=Lax
            Strict-Transport-Security: max-age=8640000:includeSubdomains
            Vary: Accept-Encoding
            X-Content-Type-Options: nosniff
            X-Dns-Prefetch-Control: "off"
            X-Envoy-Upstream-Service-Time: "242"
            X-Frame-Options: SAMEORIGIN
            X-Ntnx-Env: pc
            X-Ntnx-Product: pc.2021.9.0.4
            X-Permitted-Cross-Domain-Policies: master-only
            X-Powered-By: Express
            X-Webkit-Csp: "default-src 'self' *.nutanix.com nutanix.com; script-src 'self' 'unsafe-inline' 'unsafe-eval';  style-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src 'self' wss: https://downloads.frame.nutanix.com https://downloads.frame.nutanix.us; img-src 'self' blob: data:; frame-src 'self' https://*.nutanix.com blob: data:"
            X-Xss-Protection: 1; mode=block
        body: |
            {"cluster_name":"cluster1","cluster_uuid":"634f5852-ce1b-465c-a95a-9b8dffbdde42","task_uuid":"fcbbb878-d874-43c2-5245-d94f2d15fb94"}
        body_type: utf-8
        status_message: ""
        proto_major: 0
        proto_minor: 0
    objects:
        - type: error
          data: H4sIAAAAAAAA/wEAAP//AAAAAAAAAAA=
